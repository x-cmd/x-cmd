# shellcheck shell=dash

___x_cmd log init gemini
xrc:mod:lib     gemini      cfg model/_index request/_index \
                            chat/_index count/_index request/count gg cli/_index

___X_CMD_GEMINI_ENDPOINT="https://generativelanguage.googleapis.com"
___X_CMD_GEMINI_DEFAULT_FIRST_MODEL="gemini-2.5-flash"
___x_cmd_gemini___main(){
    [ "$#" -gt 0 ] ||       set - --help

    local op="$1"; shift
    case "$op" in
        --cfg|--cur|--init|init)
                            ___x_cmd_gemini_"${op#--}" "$@"         ;;
        --request)          ___x_cmd_gemini_request "$@"            ;;
        --has-apikey)       ___x_cmd_gemini_has_apikey "$@"         ;;
        chat)               ___x_cmd_gemini_chat "$@"               ;;
        model)              ___x_cmd_gemini_model      "$@"         ;;
        gg)                 ___x_cmd_gemini_gg "$@"                 ;;
        cli)                ___x_cmd_gemini_cli "$@"                ;;
        -h|--help)          ___x_cmd help -m gemini "$@"            ;;
        *)                  N=gemini M="Unknown subcmd ==> $op" log:ret:64 ;;
    esac
}
