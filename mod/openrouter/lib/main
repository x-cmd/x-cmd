# shellcheck shell=dash

___x_cmd log init openrouter
xrc:mod:lib     openrouter    cfg model credits chat/_index

___X_CMD_OPENROUTER_DEFAULT_FIRST_MODEL="openai/gpt-4o"
___X_CMD_OPENROUTER_DEFAULT_ENDPOINT="https://openrouter.ai/api"


___x_cmd_openrouter___main(){
    [ "$#" -gt 0 ] ||   set -- --help

    local op="$1";      shift
    case "$op" in
        chat)           ___x_cmd_openrouter_chat "$@"         ;;
        init|--init)    ___x_cmd_openrouter_init "$@"         ;;
        model|credits)  ___x_cmd_openrouter_"$op" "$@"        ;;
        --cur|--cfg)    ___x_cmd_openrouter_"${op#--}" "$@"   ;;
        --has-apikey)   ___x_cmd_openrouter_has_apikey "$@"   ;;
        -h|--help)      ___x_cmd help -m openrouter "$@";    return 0     ;;
        *)              ___x_cmd help -m openrouter "$@";    return 64    ;;
    esac
}
