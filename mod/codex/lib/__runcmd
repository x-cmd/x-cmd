
___x_cmd_codex___runmain(){
    local apikey="$OPENAI_API_KEY"
    [ -n "$apikey" ] || ___x_cmd openai --cur apikey:= 2>/dev/null

    OPENAI_API_KEY="$apikey"    \
    ___x_cmd_codex___runcmd "$@"
}

___x_cmd_codex___runcmd(){
    if ___x_cmd_hascmd codex; then
        ___x_cmd_codex___runcmd(){
            ___x_cmd_cmds codex "$@"
        }
    else
        ___x_cmd_codex___runcmd(){
            ___x_cmd snap --run codex "$@"
        }
    fi && ___x_cmd_codex___runcmd "$@"
}
