# shellcheck shell=dash

___x_cmd_codex_sili(){
    local op="$1"
    case "$op" in
        -h|--help)      ___x_cmd help -m codex sili; return 0 ;;
        --)             shift ;;
    esac

    local model=""
    local apikey=""
    local endpoint=""
    local x_=""

    ___x_cmd siliconflow --cur model:= apikey:= endpoint:= 2>/dev/null
    [ -n "$model" ] || {
        x_=; ___x_cmd siliconflow --cfg def_ model
        model="$x_"
    }

    [ -n "$endpoint" ] || {
        x_=; ___x_cmd siliconflow --cfg def_ endpoint
        endpoint="$x_"
    }

    local url="${endpoint}/v1"
    local apikey="${SILICONFLOW_API_KEY:-"$apikey"}"
    local provider="siliconflow"
    local provider_name="SiliconCloud AI"
    local wire_api="chat"
    ___x_cmd_codex_other___use "$provider" "$url" "$apikey" "$model" "$provider_name" "$wire_api" "$@"
}