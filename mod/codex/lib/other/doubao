# shellcheck shell=dash

___x_cmd_codex_doubao(){
    local op="$1"
    case "$op" in
        -h|--help)      ___x_cmd help -m codex ds; return 0 ;;
        --)             shift ;;
    esac

    local model=""
    local apikey=""
    local endpoint=""
    local x_=""

    # ___x_cmd doubao --cur model:= apikey:= endpoint:= 2>/dev/null
    # [ -n "$model" ] || {
    #     x_=; ___x_cmd doubao --cfg def_ model
    #     model="$x_"
    # }

    # [ -n "$endpoint" ] || {
    #     x_=; ___x_cmd doubao --cfg def_ endpoint
    #     endpoint="$x_"
    # }

    # https://www.volcengine.com/docs/82379/1928262
    model="doubao-seed-code-preview-latest"
    local url="https://ark.cn-beijing.volces.com/api/coding/v3"
    local apikey="${ARK_API_KEY:-"$apikey"}"
    local provider="volcengine"
    local provider_name="volcengine"
    local wire_api="chat"
    ___x_cmd_codex_other___use "$provider" "$url" "$apikey" "$model" "$provider_name" "$wire_api" "$@"
}
