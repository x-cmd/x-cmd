# shellcheck shell=dash

___x_cmd log init claude
xrc:mod:lib     claude      \
    __runcmd   use   statusline util \
    router/_index           \
    skill/_index            \
    usage/_index            \
    other/_index            \
    session/_index          \
    create/_index           \
    setting/_index          \
    attribution

___x_cmd_claude___main(){
    [ "$#" -gt 0 ] ||       set -- --runmain

    local op="$1";          shift
    case "$op" in
        -h|--help)          ___x_cmd help -m claude "$@";    return 0 ;;
        r|router)           ___x_cmd_claude_router          "$@" ;;

        cr|create)          ___x_cmd_claude_create          "$@" ;;

        statusline|stl)     ___x_cmd_claude_statusline      "$@" ;;
        s|skill|skills)     ___x_cmd_claude_skill           "$@" ;;
        usage)              ___x_cmd_claude_usage           "$@" ;;
        session|sess)       ___x_cmd_claude_session         "$@" ;;

        # via, or as, instead of use ...
        via|use)            ___x_cmd_claude_use             "$@" ;;

        or|openrouter)      ___x_cmd_claude_openrouter      "$@" ;;
        ds|deepseek)        ___x_cmd_claude_ds              "$@" ;;
        kimi)               ___x_cmd_claude_kimi            "$@" ;;
        glm|zhipu)          ___x_cmd_claude_zhipu           "$@" ;;
        sili|siliconflow)   ___x_cmd_claude_siliconflow     "$@" ;;
        doubao)             ___x_cmd_claude_doubao          "$@" ;;
        mt|mthreads)        ___x_cmd_claude_mthreads        "$@" ;;
        mm|minimax)         ___x_cmd_claude_minimax         "$@" ;;

        setting)            ___x_cmd_claude_setting         "$@" ;;
        attr|attribution)   ___x_cmd_claude_attribution     "$@" ;;

        # setup)              ___x_cmd_claude___setup         "$@" ;;
        --util_get_agentfile_)
                            ___x_cmd_claude___"${op#--}"    "$@" ;;
        --|--runmain)       ___x_cmd_claude___runmain       "$@" ;;
        --runcmd)           ___x_cmd_claude___runcmd        "$@" ;;
        *)                  ___x_cmd_claude___runmain "$op" "$@" ;;
    esac
}
