
___x_cmd_claude_session_preview(){
    [ $# -gt 0 ]    ||  set - --help

    case "$1" in
        -h|--help)      ___x_cmd help -m claude session preview;        return 0 ;;
    esac

    local scope=full
    while [ $# -gt 0 ]; do
        case "$1" in
            --part)         scope=part      ;;
            --full)         scope=full      ;;
            *)              break           ;;
        esac
        shift
    done

    ___x_cmd_claude_session_preview___"$scope" "$@"
}

___x_cmd_claude_session_preview___full(){
    ___x_cmd_claude_session_cat --full --json "$@" \
        | LC_ALL=C ___x_cmd awk \
            -v COLUMNS="$COLUMNS" \
            -f "$___X_CMD_ROOT_MOD/claude/lib/awk/session_preview_full.awk"
}

___x_cmd_claude_session_preview___part(){
    ___x_cmd_claude_session_cat --part --json "$@" \
        | LC_ALL=C ___x_cmd awk \
            -v COLUMNS="$COLUMNS" \
            -f "$___X_CMD_ROOT_MOD/claude/lib/awk/session_preview_part.awk"
}
