# shellcheck shell=dash

___x_cmd_deepseek_balance(){
    local X_help_cmd='___x_cmd help -m deepseek balance'; help:arg:parse
    ___x_cmd_deepseek_has_apikey || return $?

    local apikey=""; local endpoint=""; local proxy=""
    ___x_cmd_deepseek_cur apikey:= endpoint:= proxy:= || return $?
    endpoint="${endpoint:-"$___X_CMD_DEEPSEEK_DEFAULT_ENDPOINT"}"
    ___x_cmd proxy runifset "$proxy" \
        ___x_cmd curl -sS  "$endpoint/user/balance" \
            -H 'Accept: application/json' \
            -H "Authorization: Bearer $apikey" | ___x_cmd j2y
}
