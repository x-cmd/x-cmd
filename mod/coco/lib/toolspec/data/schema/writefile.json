{
    "name": "writefile",
    "description": "Writes content to a specified file.\n\nFor file modifications, always prefer providing `content` in **unified diff format (v4a)** with `is_patchdiff=true`.\nThis ensures modifications are applied precisely and prevents overwriting unrelated parts of the file.\n\nConstraints for patch diffs:\n- Do not create or reference temporary files.\n  The diff must be a self-contained string that directly applies to the target file.\n- Hunk headers must be accurate.\n  Each hunk must include the correct original and updated line ranges in the form:\n    @@ -a,b +c,d @@\n- Prefix symbols must be correct for every line:\n    - `-` → line removed from the original file\n    - `+` → line added in the new file\n    - (space) → unchanged context line, required for alignment\n- Ensure the diff is syntactically valid so it can be safely applied by the `patch` command.\n",
    "parameters": {
        "type": "object",
        "properties": {
            "desc": {
                "type": "string",
                "description": "Required. A concise description of the intended modification.\nProvides context for the change and clarifies its purpose.\n"
            },
            "filepath": {
                "type": "string",
                "description": "Required. The absolute path of the file to be modified or created.\n"
            },
            "content": {
                "type": "string",
                "description": "Required. The text content to write.\n\n- If `is_patchdiff=true`, `content` must be a **valid unified diff (v4a format)** string.\n  Each hunk must:\n    * Include correct `@@ -a,b +c,d @@` headers\n    * Use proper prefix symbols (`-`, `+`, ` `)\n    * Contain enough unchanged context lines for safe patching\n- If `is_patchdiff=false`, `content` will be appended directly to the file\n  without overwriting existing content.\n"
            },
            "is_patchdiff": {
                "type": "boolean",
                "description": "Required. Indicates how to interpret the `content`.\n- true → treat `content` as a unified diff patch (preferred, safe modification)\n- false → append `content` literally to the end of the file\n"
            }
        },
        "required": [
            "desc",
            "filepath",
            "content",
            "is_patchdiff"
        ]
    }
}
