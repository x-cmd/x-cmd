# shellcheck shell=dash

___x_cmd log init mistral
xrc:mod:lib     mistral   chat/_index cfg model/_index
___X_CMD_MISTRAL_DEFAULT_FIRST_MODEL=mistral-medium-latest
___X_CMD_MISTRAL_DEFAULT_ENDPOINT="https://api.mistral.ai"

___x_cmd_mistral___main(){
    [ "$#" -gt 0 ] || set - --help

    local op="$1"; shift
    case "$op" in
        init|--init)        ___x_cmd_mistral_init        "$@" ;;
        --cfg|--cur)        ___x_cmd_mistral_"${op#--}"  "$@" ;;
        chat)               ___x_cmd_mistral_chat        "$@" ;;
        model)              ___x_cmd_mistral_model       "$@" ;;
        --has-apikey)       ___x_cmd_mistral_has_apikey  "$@" ;;

        -h|--help)          ___x_cmd help -m mistral     "$@" ;;
        *)                  ___x_cmd help -m mistral >&2; return 64 ;;
    esac
}
